extends ../../layouts/default
include ../../mixin/products-grid

block main
  .order-success.container
    h2.text-success.mt-4 ‚úÖ ƒê·∫∑t h√†ng th√†nh c√¥ng
    .alert.alert-success
      | Ch√∫c m·ª´ng b·∫°n ƒë√£ ƒë·∫∑t h√†ng th√†nh c√¥ng! Ch√∫ng t√¥i s·∫Ω x·ª≠ l√Ω ƒë∆°n h√†ng trong th·ªùi gian s·ªõm nh·∫•t.

    // Th√¥ng tin c√° nh√¢n
    .order-info.mt-4
      h5 üìã Th√¥ng tin c√° nh√¢n
      table.table.table-bordered.mt-2
        tr
          th H·ªç t√™n
          td= userInfo.fullName
        tr
          th S·ªë ƒëi·ªán tho·∫°i
          td= userInfo.phone
        tr
          th ƒê·ªãa ch·ªâ
          td= userInfo.address
        tr
          th Ph∆∞∆°ng th·ª©c thanh to√°n
          td= paymentMethod === 'cod' ? 'Thanh to√°n khi nh·∫≠n h√†ng (COD)' : 'VNPay (ƒë√£ thanh to√°n)'

    // Danh s√°ch s·∫£n ph·∫©m
    .product-list.mt-5
      h5 üõí Chi ti·∫øt ƒë∆°n h√†ng
      table.table.table-striped.table-hover.product-table
        thead.table-light
          tr
            th ·∫¢nh
            th S·∫£n ph·∫©m
            th ƒê∆°n gi√°
            th Gi·∫£m gi√°
            th Gi√° sau gi·∫£m
            th S·ªë l∆∞·ª£ng
            th Th√†nh ti·ªÅn
        tbody
          each product in products
            tr
              td
                img(src=product.thumbnail, alt=product.title, width="60", height="60", style="object-fit: cover; border-radius: 6px;")
              td= product.title
              td= product.price.toLocaleString() + ' ƒë'
              td= (product.discountPercentage || 0) + '%'
              td= product.newPrice.toLocaleString() + ' ƒë'
              td= product.quantity
              td= product.totalPrice.toLocaleString() + ' ƒë'
          tr.total-row
            td(colspan="6", class="text-end fw-bold") T·ªïng ti·ªÅn:
            td.text-danger.fw-bold #{totalOrderPrice.toLocaleString()} ƒë

  style.
    .order-success {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .order-success h2 {
      color: #28a745;
      margin-bottom: 20px;
    }
    .order-info, .product-table {
      margin-top: 30px;
    }
    .product-table th, .product-table td {
      vertical-align: middle;
    }
    .total-row {
      font-weight: bold;
      color: #d9534f;
    }
